<mxfile host="app.diagrams.net" modified="2023-05-31T01:13:11.597Z" agent="Mozilla/5.0 (iPhone; CPU iPhone OS 15_7_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.6.4 Mobile/15E148 Safari/604.1" etag="dc-RorgXfX9fY5MmjC-P" version="21.3.6">
  <diagram name="Page-1" id="2YBvvXClWsGukQMizWep">
    <mxGraphModel dx="1230" dy="494" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="hmVyLXcRCmO5MEf4KAfY-6" value="Fund_transfer_presentation_service" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="90" y="50" width="210" height="3720" as="geometry" />
        </mxCell>
        <mxCell id="hmVyLXcRCmO5MEf4KAfY-7" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="hmVyLXcRCmO5MEf4KAfY-6" vertex="1">
          <mxGeometry x="100" y="130" width="10" height="3590" as="geometry" />
        </mxCell>
        <mxCell id="hmVyLXcRCmO5MEf4KAfY-8" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="hmVyLXcRCmO5MEf4KAfY-6" vertex="1">
          <mxGeometry x="105" y="186" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hmVyLXcRCmO5MEf4KAfY-9" value="Check thời gian được chạy job&amp;nbsp;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="hmVyLXcRCmO5MEf4KAfY-6" target="hmVyLXcRCmO5MEf4KAfY-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="166" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="140" y="196" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-60" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="hmVyLXcRCmO5MEf4KAfY-6" vertex="1">
          <mxGeometry x="105" y="1610" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-61" value="update table fund_transfer_transction(status = FAILED,retry+1)&lt;br&gt;insert 1 retry time to fund_transfer_retry_log(status=FAILED)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="hmVyLXcRCmO5MEf4KAfY-6" target="GJ6w0nwFr-H_5CibzW1i-60" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="1590" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="140" y="1620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-103" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="hmVyLXcRCmO5MEf4KAfY-6" vertex="1">
          <mxGeometry x="105" y="2500" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-104" value="update table fund_transfer_transction(status = FAILED,retry+1)&lt;br&gt;insert 1 retry time to fund_transfer_retry_log(status=FAILED)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="hmVyLXcRCmO5MEf4KAfY-6" target="GJ6w0nwFr-H_5CibzW1i-103" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="2480" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="140" y="2510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="hmVyLXcRCmO5MEf4KAfY-10" value="Start job every 30 minutes" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" target="hmVyLXcRCmO5MEf4KAfY-7" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="28" y="180" as="sourcePoint" />
            <mxPoint x="228" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-1" value="Fund_transfer_persistence_service" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="880" y="40" width="210" height="3720" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="GJ6w0nwFr-H_5CibzW1i-1" vertex="1">
          <mxGeometry x="100" y="355" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-15" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="GJ6w0nwFr-H_5CibzW1i-1" vertex="1">
          <mxGeometry x="100" y="480" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-29" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="GJ6w0nwFr-H_5CibzW1i-1" vertex="1">
          <mxGeometry x="100" y="826" width="10" height="54" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-5" value="" style="endArrow=block;endFill=1;html=1;edgeStyle=elbowEdgeStyle;align=left;verticalAlign=top;rounded=0;elbow=vertical;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-3" edge="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="240" y="397.1428571428572" as="sourcePoint" />
            <mxPoint x="980" y="397.1428571428572" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-6" value="findFirst100ByStatusInAndRetryIsLessThanEqualAndUpdatedDateIsLessThanEqualAndTraceNumberNotNull()" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="GJ6w0nwFr-H_5CibzW1i-5" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="160" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-7" value="TransactionsNeedRetrty" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="980" y="444" as="sourcePoint" />
            <mxPoint x="240" y="444" as="targetPoint" />
            <Array as="points">
              <mxPoint x="850" y="444" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-8" value="loop" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="-130" y="300" width="1470" height="3430" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-9" value="[transactionsNeedRetry.size() != 0]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="15" y="337" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-10" value="loop" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="-60" y="470" width="1340" height="3220" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-12" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;[for each item of transactionsNeedRetry&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;]&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="510" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-13" value="" style="endArrow=block;endFill=1;html=1;edgeStyle=elbowEdgeStyle;align=left;verticalAlign=top;rounded=0;elbow=vertical;" parent="1" source="hmVyLXcRCmO5MEf4KAfY-7" target="GJ6w0nwFr-H_5CibzW1i-15" edge="1">
          <mxGeometry x="-0.6216" y="-80" relative="1" as="geometry">
            <mxPoint x="480" y="570" as="sourcePoint" />
            <mxPoint x="640" y="570" as="targetPoint" />
            <Array as="points">
              <mxPoint x="580" y="520" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-14" value="query to ESB" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="GJ6w0nwFr-H_5CibzW1i-13" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="300" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-16" value="ESBQueryResult&amp;nbsp;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0002" relative="1" as="geometry">
            <mxPoint x="980" y="568.5882352941176" as="sourcePoint" />
            <mxPoint x="240" y="568.5882352941176" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-17" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry y="600" width="1220" height="3040" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-18" value="ESBQueryResult.getErrGlobalCode() = 10" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="40" y="630" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-20" value="getListRetryLogByTraceNumber()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-22" target="GJ6w0nwFr-H_5CibzW1i-1" edge="1">
          <mxGeometry x="1" y="-385" width="80" relative="1" as="geometry">
            <mxPoint x="520" y="650" as="sourcePoint" />
            <mxPoint x="600" y="650" as="targetPoint" />
            <mxPoint x="-385" y="365" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-21" value="" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="240" y="730.2941176470588" as="sourcePoint" />
            <mxPoint x="980" y="730.2941176470588" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-22" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="980" y="730" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-23" value="retryLogList" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0002" relative="1" as="geometry">
            <mxPoint x="980" y="769.2941176470588" as="sourcePoint" />
            <mxPoint x="240" y="769.2941176470588" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-24" value="loop" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="50" y="800" width="1110" height="990" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-25" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;[for each item of retryLogList&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;]&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="840" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-28" value="queryToESB" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-29" edge="1">
          <mxGeometry x="-0.0001" width="80" relative="1" as="geometry">
            <mxPoint x="240" y="866.7058823529412" as="sourcePoint" />
            <mxPoint x="450" y="867" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-30" value="ESBQueryResultOfRetry" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-29" target="hmVyLXcRCmO5MEf4KAfY-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="750" y="900" as="sourcePoint" />
            <mxPoint x="670" y="900" as="targetPoint" />
            <Array as="points">
              <mxPoint x="970" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-31" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="100" y="940" width="950" height="790" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-32" value="ESBQueryResultOfRetry.getErrGlobalCode() = 10" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="100" y="975" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-33" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="1025" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-34" value="count++" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-33" edge="1">
          <mxGeometry x="0.0588" y="10" relative="1" as="geometry">
            <mxPoint x="240" y="1005" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="1035" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-35" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="680" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-36" value="count++" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-35" edge="1">
          <mxGeometry x="-0.0602" relative="1" as="geometry">
            <mxPoint x="240" y="660" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="690" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-37" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.001;entryY=0.397;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1053" y="1079" as="sourcePoint" />
            <mxPoint x="100.94999999999982" y="1079.21" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-39" value="ESBQueryResultOfRetry trả về kết quả đã hạch toán chưa gọi sang napas" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="100" y="1100" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-40" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="1150" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-41" value="return" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-40" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="1130" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="1160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-42" value="callNapasWithoutFCC()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="240" y="1202" as="sourcePoint" />
            <mxPoint x="980" y="1202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-43" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="980" y="1200" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-44" value="resultAfterCallNapasWithoutFCC" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" target="hmVyLXcRCmO5MEf4KAfY-7" edge="1">
          <mxGeometry x="-0.008" relative="1" as="geometry">
            <mxPoint x="980" y="1248" as="sourcePoint" />
            <mxPoint x="233.5" y="1248" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-45" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="120" y="1280" width="910" height="280" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-46" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0;entryY=0.501;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.002;exitY=0.498;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-45" target="GJ6w0nwFr-H_5CibzW1i-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1072.05" y="1419.41" as="sourcePoint" />
            <mxPoint x="119.99999999999982" y="1419.6200000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-49" target="GJ6w0nwFr-H_5CibzW1i-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-49" value="resultAfterCallNapasWithoutFCC is failed" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="1310" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-50" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="1360" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-51" value="update table fund_transfer_transction(status = FAILED,retry+1)&lt;br&gt;insert 1 retry time to fund_transfer_retry_log(status=FAILED)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="1340" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="1370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-52" value="resultAfterCallNapasWithoutFCC is success" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="110" y="1430" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-53" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="1480" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-54" value="update table fund_transfer_transction(status = CÒNIRM,retry+1)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;insert 1 retry time to fund_transfer_retry_log(status=CONFIRM)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="1460" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="1490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-55" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.001;entryY=0.397;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1050" y="1590" as="sourcePoint" />
            <mxPoint x="97.94999999999982" y="1590.21" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-56" value="ESBQueryResultOfRetry trả về kết quả không xác định" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="105" y="1599" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-62" value="" style="endArrow=none;dashed=1;html=1;rounded=0;exitX=0.001;exitY=0.732;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.732;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1.2200000000002547" y="2869" as="sourcePoint" />
            <mxPoint x="1220.0000000000005" y="2869" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-63" value="ESBQueryResult trả về trạng thái đã hạch toán chưa gọi napas&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="10" y="2966.92" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-64" value="callNapasWithoutFCC()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="240" y="3015.92" as="sourcePoint" />
            <mxPoint x="980" y="3015.92" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-65" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="980" y="3013.92" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-66" value="resultAfterCallNapasWithoutFCC" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="-0.008" relative="1" as="geometry">
            <mxPoint x="980" y="3061.92" as="sourcePoint" />
            <mxPoint x="240" y="3061.92" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-67" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="120" y="3131.92" width="910" height="280" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-68" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0;entryY=0.501;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.002;exitY=0.498;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-67" target="GJ6w0nwFr-H_5CibzW1i-67" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1072.05" y="3271.33" as="sourcePoint" />
            <mxPoint x="119.99999999999983" y="3271.54" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-70" value="resultAfterCallNapasWithoutFCC is failed" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="3161.92" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-71" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="3211.92" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-72" value="update table fund_transfer_transction(status = FAILED,retry+1)&lt;br&gt;insert 1 retry time to fund_transfer_retry_log(status=FAILED)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-71" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="3191.92" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="3221.92" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-73" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="3331.92" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-74" value="update table fund_transfer_transction(status = CÒNIRM,retry+1)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;insert 1 retry time to fund_transfer_retry_log(status=CONFIRM)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="3311.92" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="3341.92" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-76" value="resultAfterCallNapasWithoutFCC is success" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="3281.92" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-77" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="1830" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-78" value="checkCount()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="1810" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="1840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-80" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="1880" width="1120" height="810" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-81" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="40" y="2490" as="sourcePoint" />
            <mxPoint x="1160" y="2490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-82" value="count = retryLogList.size()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="50" y="1950" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-83" value="callNapasAndFCC()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="240" y="1912" as="sourcePoint" />
            <mxPoint x="980" y="1912" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-84" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="980" y="1910" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-85" value="resultAftercallNapasAndFCC" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="-0.0094" relative="1" as="geometry">
            <mxPoint x="980" y="1958" as="sourcePoint" />
            <mxPoint x="240" y="1958" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-94" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="2040" width="1040" height="280" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-95" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0;entryY=0.501;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.002;exitY=0.498;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="GJ6w0nwFr-H_5CibzW1i-94" target="GJ6w0nwFr-H_5CibzW1i-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1032.05" y="2179.41" as="sourcePoint" />
            <mxPoint x="79.99999999999983" y="2179.62" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-96" value="resultAftercallNapasAndFCC is failed" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="90" y="2070" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-97" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="2120" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-98" value="update table fund_transfer_transction(status = FAILED,retry+1)&lt;br&gt;insert 1 retry time to fund_transfer_retry_log(status=FAILED)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-97" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="2100" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="2130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-99" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="235" y="2240" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-100" value="update table fund_transfer_transction(status = CÒNIRM,retry+1)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;insert 1 retry time to fund_transfer_retry_log(status=CONFIRM)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" target="GJ6w0nwFr-H_5CibzW1i-99" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="2220" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="270" y="2250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-101" value="resultAftercallNapasAndFCC is success" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="90" y="2190" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GJ6w0nwFr-H_5CibzW1i-102" value="count != retryLogList.size()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="45" y="2560" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2cwbdP6Obc74h6b1YDTN-1" value="" style="whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="390" y="70" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
